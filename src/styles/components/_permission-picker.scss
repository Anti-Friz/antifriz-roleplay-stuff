/**
 * Styles for PermissionPicker component
 * Global styles because dropdown is portaled to body
 */

// Permission picker button (inline)
.permission-picker {
   display: inline-flex;
   
   .permission-btn {
      display: flex;
      align-items: center;
      gap: 0.375rem;
      padding: 0.25rem 0.5rem;
      background: rgba(255, 255, 255, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.2);
      border-radius: 3px;
      color: white;
      font-size: 0.6875rem;
      cursor: pointer;
      transition: all 0.15s;
      
      &:hover, &.active {
         background: rgba(255, 255, 255, 0.2);
         border-color: rgba(255, 255, 255, 0.3);
      }
      
      .label {
         max-width: 5rem;
         overflow: hidden;
         text-overflow: ellipsis;
         white-space: nowrap;
      }
      
      .fa-caret-down {
         font-size: 0.5rem;
         opacity: 0.7;
      }
   }
   
   &.compact .permission-btn {
      width: 1.75rem;
      height: 1.75rem;
      padding: 0;
      justify-content: center;
   }
}

// Permission dropdown (portaled to body)
.permission-dropdown {
   min-width: 160px;
   background: var(--color-bg-option, #2a2a3e);
   border: 1px solid var(--color-border-light-tertiary, #4a4a5a);
   border-radius: 4px;
   box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);
   overflow: hidden;
   
   .options-list {
      display: flex;
      flex-direction: column;
   }
   
   .option-item {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      padding: 0.5rem 0.75rem;
      background: transparent;
      border: none;
      color: var(--color-text-dark-primary, #eee);
      font-size: 0.8125rem;
      cursor: pointer;
      text-align: left;
      transition: background 0.1s;
      
      i:first-child {
         width: 1rem;
         text-align: center;
         color: var(--color-text-dark-secondary, #aaa);
      }
      
      span {
         flex: 1;
      }
      
      .check-mark {
         color: #7c3aed;
         font-size: 0.75rem;
      }
      
      &:hover {
         background: rgba(124, 58, 237, 0.15);
      }
      
      &.selected {
         background: rgba(124, 58, 237, 0.1);
      }
   }
   
   // User picker
   .user-picker {
      display: flex;
      flex-direction: column;
      max-height: 300px;
   }
   
   .picker-header {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      padding: 0.5rem 0.75rem;
      border-bottom: 1px solid var(--color-border-light-tertiary, #4a4a5a);
      font-size: 0.8125rem;
      font-weight: 500;
      color: var(--color-text-dark-primary, #eee);
   }
   
   .back-btn {
      width: 1.5rem;
      height: 1.5rem;
      display: flex;
      align-items: center;
      justify-content: center;
      background: transparent;
      border: none;
      color: var(--color-text-dark-secondary, #aaa);
      cursor: pointer;
      border-radius: 3px;
      
      &:hover {
         background: rgba(255, 255, 255, 0.1);
         color: var(--color-text-dark-primary, #eee);
      }
   }
   
   .users-list {
      flex: 1;
      overflow-y: auto;
      padding: 0.375rem 0;
   }
   
   .user-item {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      padding: 0.375rem 0.75rem;
      cursor: pointer;
      transition: background 0.1s;
      
      &:hover {
         background: rgba(124, 58, 237, 0.1);
      }
      
      input[type="checkbox"] {
         width: 1rem;
         height: 1rem;
         margin: 0;
         cursor: pointer;
         accent-color: #7c3aed;
      }
      
      .user-avatar {
         width: 1.5rem;
         height: 1.5rem;
         border-radius: 50%;
         object-fit: cover;
         background: var(--color-bg-btn, #3a3a4e);
      }
      
      .user-name {
         flex: 1;
         font-size: 0.8125rem;
         overflow: hidden;
         text-overflow: ellipsis;
         white-space: nowrap;
      }
      
      .online-dot {
         width: 0.5rem;
         height: 0.5rem;
         background: #22c55e;
         border-radius: 50%;
      }
   }
   
   .no-players {
      padding: 1rem;
      text-align: center;
      color: var(--color-text-dark-secondary, #888);
      font-size: 0.8125rem;
   }
   
   .picker-footer {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0.5rem 0.75rem;
      border-top: 1px solid var(--color-border-light-tertiary, #4a4a5a);
      background: rgba(0, 0, 0, 0.1);
   }
   
   .selected-count {
      font-size: 0.75rem;
      color: var(--color-text-dark-secondary, #aaa);
   }
   
   .apply-btn {
      padding: 0.375rem 0.75rem;
      background: #7c3aed;
      border: none;
      border-radius: 3px;
      color: white;
      font-size: 0.75rem;
      font-weight: 500;
      cursor: pointer;
      transition: filter 0.15s;
      
      &:hover {
         filter: brightness(1.1);
      }
   }
}
