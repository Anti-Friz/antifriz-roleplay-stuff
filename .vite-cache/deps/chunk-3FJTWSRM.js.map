{
  "version": 3,
  "sources": ["../../../../../../program/Javascript/projects/TyphonJS/typhonjs-svelte/runtime-base/_dist/svelte/store/util/index.js", "../../../../../../program/Javascript/projects/TyphonJS/typhonjs-svelte/runtime-base/_dist/util/index.js"],
  "sourcesContent": ["/**\n * Provides a basic test for a given variable to test if it has the shape of a readable store by having a `subscribe`\n * function.\n *\n * Note: functions are also objects, so test that the variable might be a function w/ a `subscribe` function.\n *\n * @param {*}  store - variable to test that might be a store.\n *\n * @returns {store is import('svelte/store').Readable<unknown>} Whether the variable tested has the shape of a store.\n */\nfunction isReadableStore(store)\n{\n   if (store === null || store === void 0) { return false; }\n\n   switch (typeof store)\n   {\n      case 'function':\n      case 'object':\n         return typeof store.subscribe === 'function';\n   }\n\n   return false;\n}\n\n/**\n * Provides a basic test for a given variable to test if it has the shape of a minimal writable store by having a\n * `subscribe` and `set` functions.\n *\n * Note: functions are also objects, so test that the variable might be a function w/ `subscribe` & `set` functions.\n *\n * @param {*}  store - variable to test that might be a store.\n *\n * @returns {store is import('./types').MinimalWritable<unknown>} Whether the variable tested has the shape of a\n *          {@link MinimalWritable} store.\n */\nfunction isMinimalWritableStore(store)\n{\n   if (store === null || store === void 0) { return false; }\n\n   switch (typeof store)\n   {\n      case 'function':\n      case 'object':\n         return typeof store.subscribe === 'function' && typeof store.set === 'function';\n   }\n\n   return false;\n}\n\n/**\n * Provides a basic test for a given variable to test if it has the shape of a writable store by having a `subscribe`\n * `set`, and `update` functions.\n *\n * Note: functions are also objects, so test that the variable might be a function w/ `subscribe`, `set, and `update`\n * functions.\n *\n * @param {*}  store - variable to test that might be a store.\n *\n * @returns {store is import('svelte/store').Writable<unknown>} Whether the variable tested has the shape of a writable\n *          store.\n */\nfunction isWritableStore(store)\n{\n   if (store === null || store === void 0) { return false; }\n\n   switch (typeof store)\n   {\n      case 'function':\n      case 'object':\n         return typeof store.subscribe === 'function' && typeof store.set === 'function' &&\n          typeof store.update === 'function';\n   }\n\n   return false;\n}\n\n/**\n * Subscribes to the given store with the update function provided and ignores the first automatic\n * update. All future updates are dispatched to the update function.\n *\n * @param {import('svelte/store').Readable | import('svelte/store').Writable} store -\n *  Store to subscribe to...\n *\n * @param {import('svelte/store').Updater} update - function to receive future updates.\n *\n * @returns {import('svelte/store').Unsubscriber} Store unsubscribe function.\n */\nfunction subscribeIgnoreFirst(store, update)\n{\n   let firedFirst = false;\n\n   return store.subscribe((value) =>\n   {\n      if (!firedFirst)\n      {\n         firedFirst = true;\n      }\n      else\n      {\n         update(value);\n      }\n   });\n}\n\n/**\n * Subscribes to the given store with two update functions provided. The first function is invoked on the initial\n * subscription. All future updates are dispatched to the update function.\n *\n * @param {import('svelte/store').Readable | import('svelte/store').Writable} store -\n *  Store to subscribe to...\n *\n * @param {import('svelte/store').Updater} first - Function to receive first update.\n *\n * @param {import('svelte/store').Updater} update - Function to receive future updates.\n *\n * @returns {import('svelte/store').Unsubscriber} Store unsubscribe function.\n */\nfunction subscribeFirstRest(store, first, update)\n{\n   let firedFirst = false;\n\n   return store.subscribe((value) =>\n   {\n      if (!firedFirst)\n      {\n         firedFirst = true;\n         first(value);\n      }\n      else\n      {\n         update(value);\n      }\n   });\n}\n\nexport { isMinimalWritableStore, isReadableStore, isWritableStore, subscribeFirstRest, subscribeIgnoreFirst };\n//# sourceMappingURL=index.js.map\n", "/**\n * Provides strictly readonly collections at runtime including {@link ReadonlyMap} and {@link ReadonlySet}.\n *\n * The protection level provided is for accidental modification. A determined caller could still mutate via\n * `Map.prototype.set.call(frozenMap, ...)` or `Set.prototype.add.call(frozenSet, ...)`.\n */\nclass Frozen\n{\n   /**\n    * @hideconstructor\n    */\n   constructor()\n   {\n      throw new Error('Frozen constructor: This is a static class and should not be constructed.');\n   }\n\n   /**\n    * @param {Iterable<[K, V]>} [entries] - Target Map or iterable of [key, value] pairs.\n    *\n    * @returns {ReadonlyMap<K, V>} A strictly ReadonlyMap.\n    *\n    * @template K, V\n    */\n   static Map(entries)\n   {\n      const result = new Map(entries);\n\n      result.set = void 0;\n      result.delete = void 0;\n      result.clear = void 0;\n\n      return /** @type {ReadonlyMap<K, V>} */ result;\n   }\n\n   /**\n    * @param {Iterable<T>} [data] - Target Set or iterable list.\n    *\n    * @returns {ReadonlySet<T>} A strictly ReadonlySet.\n    *\n    * @template T\n    */\n   static Set(data)\n   {\n      const result = new Set(data);\n\n      result.add = void 0;\n      result.delete = void 0;\n      result.clear = void 0;\n\n      return /** @type {ReadonlySet<T>} */ result;\n   }\n}\n\nObject.freeze(Frozen);\n\n/**\r\n * Provides various utilities for generating hash codes for strings and UUIDs.\r\n *\r\n * This class should not be constructed as it only contains static methods.\r\n */\r\nclass Hashing\r\n{\r\n   static #regexUuidv = /^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i;\r\n\r\n   /**\r\n    * @hideconstructor\r\n    */\r\n   constructor()\r\n   {\r\n      throw new Error('Hashing constructor: This is a static class and should not be constructed.');\r\n   }\r\n\r\n   /**\r\n    * Provides a solid string hashing algorithm.\r\n    *\r\n    * Sourced from: https://stackoverflow.com/a/52171480\r\n    *\r\n    * @param {string}   str - String to hash.\r\n    *\r\n    * @param {number}   [seed=0] - A seed value altering the hash.\r\n    *\r\n    * @returns {number} Hash code.\r\n    */\r\n   static hashCode(str, seed = 0)\r\n   {\r\n      if (typeof str !== 'string') { return 0; }\r\n\r\n      let h1 = 0xdeadbeef ^ seed, h2 = 0x41c6ce57 ^ seed;\r\n\r\n      for (let ch, i = 0; i < str.length; i++)\r\n      {\r\n         ch = str.charCodeAt(i);\r\n         h1 = Math.imul(h1 ^ ch, 2654435761);\r\n         h2 = Math.imul(h2 ^ ch, 1597334677);\r\n      }\r\n\r\n      h1 = Math.imul(h1 ^ (h1 >>> 16), 2246822507) ^ Math.imul(h2 ^ (h2 >>> 13), 3266489909);\r\n      h2 = Math.imul(h2 ^ (h2 >>> 16), 2246822507) ^ Math.imul(h1 ^ (h1 >>> 13), 3266489909);\r\n\r\n      return 4294967296 * (2097151 & h2) + (h1 >>> 0);\r\n   }\r\n\r\n   /**\r\n    * Validates that the given string is formatted as a UUIDv4 string.\r\n    *\r\n    * @param {unknown}   uuid - UUID string to test.\r\n    *\r\n    * @returns {uuid is string} Is UUIDv4 string.\r\n    */\r\n   static isUuidv4(uuid)\r\n   {\r\n      return typeof uuid === 'string' && this.#regexUuidv.test(uuid);\r\n   }\r\n\r\n   /**\r\n    * Generates a UUID v4 compliant ID. Please use a complete UUID generation package for guaranteed compliance.\r\n    *\r\n    * This code is an evolution of the following Gist.\r\n    * https://gist.github.com/jed/982883\r\n    *\r\n    * There is a public domain / free copy license attached to it that is not a standard OSS license...\r\n    * https://gist.github.com/jed/982883#file-license-txt\r\n    *\r\n    * @returns {string} UUIDv4\r\n    */\r\n   static uuidv4()\r\n   {\r\n      return ([1e7] + -1e3 + -4e3 + -8e3 + -1e11).replace(/[018]/g, (c) =>\r\n       (c ^ (globalThis.crypto ?? globalThis.msCrypto).getRandomValues(\r\n        new Uint8Array(1))[0] & 15 >> c / 4).toString(16));\r\n   }\r\n}\n\n/**\r\n * Provides utility functions for strings.\r\n *\r\n * This class should not be constructed as it only contains static methods.\r\n */\r\nclass Strings\r\n{\r\n   /**\r\n    * @hideconstructor\r\n    */\r\n   constructor()\r\n   {\r\n      throw new Error('Strings constructor: This is a static class and should not be constructed.');\r\n   }\r\n\r\n   /**\r\n    * Escape a given input string prefacing special characters with backslashes for use in a regular expression.\r\n    *\r\n    * @param {string}   string - An un-escaped input string.\r\n    *\r\n    * @returns {string} The escaped string suitable for use in a regular expression.\r\n    */\r\n   static escape(string)\r\n   {\r\n      return string.replace(/[-/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&');\r\n   }\r\n\r\n   /**\r\n    * Normalizes a string.\r\n    *\r\n    * @param {string}   string - A string to normalize for comparisons.\r\n    *\r\n    * @returns {string} Cleaned string.\r\n    *\r\n    * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/normalize\r\n    */\r\n   static normalize(string)\r\n   {\r\n      return string.trim().normalize('NFD').replace(/[\\x00-\\x1F]/gm, ''); // eslint-disable-line no-control-regex\r\n   }\r\n}\n\n/**\r\n * Provides timing related higher-order functions.\r\n *\r\n * This class should not be constructed as it only contains static methods.\r\n */\r\nclass Timing\r\n{\r\n   /**\r\n    * @hideconstructor\r\n    */\r\n   constructor()\r\n   {\r\n      throw new Error('Timing constructor: This is a static class and should not be constructed.');\r\n   }\r\n\r\n   /**\r\n    * Wraps a callback in a debounced timeout. Delay execution of the callback function until the function has not been\r\n    * called for the given delay in milliseconds.\r\n    *\r\n    * @template Args\r\n    *\r\n    * @param {(...args: Args[]) => void} callback - A function to execute once the debounced threshold has been passed.\r\n    *\r\n    * @param {number}   delay - An amount of time in milliseconds to delay.\r\n    *\r\n    * @returns {(...args: Args[]) => void} A wrapped function that can be called to debounce execution.\r\n    *\r\n    * @example\r\n    * /**\r\n    *  * Debounce the update invocation by 500ms.\r\n    *  *\\/\r\n    * const updateDebounced = Timing.debounce(() => doc.update(), 500);\r\n    *\r\n    * // Use the function like:\r\n    * updateDebounced();\r\n    *\r\n    * @example\r\n    * /**\r\n    *  * Debounce the update invocation by 500ms.\r\n    *  *\r\n    *  * \\@param {string} value - A value to update.\r\n    *  *\\/\r\n    * const updateDebounced = Timing.debounce((value) => doc.update(value), 500);\r\n    *\r\n    * // Use the function like:\r\n    * updateDebounced('new value');\r\n    */\r\n   static debounce(callback, delay)\r\n   {\r\n      if (typeof callback !== 'function')\r\n      {\r\n         throw new TypeError(`'callback' must be a function.`);\r\n      }\r\n\r\n      if (!Number.isInteger(delay) || delay < 0)\r\n      {\r\n         throw new TypeError(`'delay' must be a positive integer representing milliseconds.`);\r\n      }\r\n\r\n      let timeoutId;\r\n\r\n      return function(...args)\r\n      {\r\n         globalThis.clearTimeout(timeoutId);\r\n         timeoutId = globalThis.setTimeout(() => { callback.apply(this, args); }, delay);\r\n      };\r\n   }\r\n\r\n   /**\r\n    * Creates a double click event handler that distinguishes between single and double clicks. Calls the `single`\r\n    * callback on a single click and the `double` callback on a double click. The default double click delay to invoke\r\n    * the `double` callback is 400 milliseconds.\r\n    *\r\n    * @param {object}   opts - Optional parameters.\r\n    *\r\n    * @param {(event: Event) => void} [opts.single] - Single click callback.\r\n    *\r\n    * @param {(event: Event) => void} [opts.double] - Double click callback.\r\n    *\r\n    * @param {number}   [opts.delay=400] - Double click delay.\r\n    *\r\n    * @returns {(event: Event) => void} The gated double-click handler.\r\n    *\r\n    * @example\r\n    * // Given a button element.\r\n    * button.addEventListener('click', Timing.doubleClick({\r\n    *    single: (event) => console.log('Single click: ', event),\r\n    *    double: (event) => console.log('Double click: ', event)\r\n    * });\r\n    */\r\n   static doubleClick({ single, double, delay = 400 })\r\n   {\r\n      if (single !== void 0 && typeof single !== 'function') { throw new TypeError(`'single' must be a function.`); }\r\n      if (double !== void 0 && typeof double !== 'function') { throw new TypeError(`'double' must be a function.`); }\r\n\r\n      if (!Number.isInteger(delay) || delay < 0)\r\n      {\r\n         throw new TypeError(`'delay' must be a positive integer representing milliseconds.`);\r\n      }\r\n\r\n      let clicks = 0;\r\n      let timeoutId;\r\n\r\n      return (event) =>\r\n      {\r\n         globalThis.clearTimeout(timeoutId);\r\n         clicks++;\r\n\r\n         if (clicks === 1)\r\n         {\r\n            timeoutId = globalThis.setTimeout(() =>\r\n            {\r\n               if (typeof single === 'function') { single(event); }\r\n               clicks = 0;\r\n            }, delay);\r\n         }\r\n         else\r\n         {\r\n            if (typeof double === 'function') { double(event); }\r\n            clicks = 0;\r\n         }\r\n      };\r\n   }\r\n}\n\nexport { Frozen, Hashing, Strings, Timing };\n//# sourceMappingURL=index.js.map\n"],
  "mappings": ";AAmCA,SAAS,uBAAuB,OAChC;AACG,MAAI,UAAU,QAAQ,UAAU,QAAQ;AAAE,WAAO;EAAM;AAEvD,UAAQ,OAAO,OAClB;IACM,KAAK;IACL,KAAK;AACF,aAAO,OAAO,MAAM,cAAc,cAAc,OAAO,MAAM,QAAQ;EAC9E;AAEG,SAAO;AACV;AAcA,SAAS,gBAAgB,OACzB;AACG,MAAI,UAAU,QAAQ,UAAU,QAAQ;AAAE,WAAO;EAAM;AAEvD,UAAQ,OAAO,OAClB;IACM,KAAK;IACL,KAAK;AACF,aAAO,OAAO,MAAM,cAAc,cAAc,OAAO,MAAM,QAAQ,cACpE,OAAO,MAAM,WAAW;EAClC;AAEG,SAAO;AACV;AAaA,SAAS,qBAAqB,OAAO,QACrC;AACG,MAAI,aAAa;AAEjB,SAAO,MAAM,UAAU,CAAC,UACxB;AACG,QAAI,CAAC,YACL;AACG,mBAAa;IACtB,OAEM;AACG,aAAO,KAAK;IACrB;EACA,CAAI;AACJ;;;AChGA,IAAM,SAAN,MACA;;;;EAIG,cACA;AACG,UAAM,IAAI,MAAM,2EAA2E;EACjG;;;;;;;;EASG,OAAO,IAAI,SACX;AACG,UAAM,SAAS,IAAI,IAAI,OAAO;AAE9B,WAAO,MAAM;AACb,WAAO,SAAS;AAChB,WAAO,QAAQ;AAEf;;MAAwC;;EAC9C;;;;;;;;EASG,OAAO,IAAI,MACX;AACG,UAAM,SAAS,IAAI,IAAI,IAAI;AAE3B,WAAO,MAAM;AACb,WAAO,SAAS;AAChB,WAAO,QAAQ;AAEf;;MAAqC;;EAC3C;AACA;AAEA,OAAO,OAAO,MAAM;AAOpB,IAAM,UAAN,MACA;EACG,OAAO,cAAc;;;;EAKrB,cACA;AACG,UAAM,IAAI,MAAM,4EAA4E;EAClG;;;;;;;;;;;;EAaG,OAAO,SAAS,KAAK,OAAO,GAC5B;AACG,QAAI,OAAO,QAAQ,UAAU;AAAE,aAAO;IAAE;AAExC,QAAI,KAAK,aAAa,MAAM,KAAK,aAAa;AAE9C,aAAS,IAAI,IAAI,GAAG,IAAI,IAAI,QAAQ,KACpC;AACG,WAAK,IAAI,WAAW,CAAC;AACrB,WAAK,KAAK,KAAK,KAAK,IAAI,UAAU;AAClC,WAAK,KAAK,KAAK,KAAK,IAAI,UAAU;IAC3C;AAEM,SAAK,KAAK,KAAK,KAAM,OAAO,IAAK,UAAU,IAAI,KAAK,KAAK,KAAM,OAAO,IAAK,UAAU;AACrF,SAAK,KAAK,KAAK,KAAM,OAAO,IAAK,UAAU,IAAI,KAAK,KAAK,KAAM,OAAO,IAAK,UAAU;AAErF,WAAO,cAAc,UAAU,OAAO,OAAO;EACnD;;;;;;;;EASG,OAAO,SAAS,MAChB;AACG,WAAO,OAAO,SAAS,YAAY,KAAK,YAAY,KAAK,IAAI;EACnE;;;;;;;;;;;;EAaG,OAAO,SACP;AACG,YAAQ,4BAA6B,OAAO,QAAQ,UAAU,CAAC,OAC7D,KAAK,WAAW,UAAU,WAAW,UAAU;MAC/C,IAAI,WAAW,CAAC;IAAC,EAAE,CAAC,IAAI,MAAM,IAAI,GAAG,SAAS,EAAE,CAAC;EACzD;AACA;AAOA,IAAM,UAAN,MACA;;;;EAIG,cACA;AACG,UAAM,IAAI,MAAM,4EAA4E;EAClG;;;;;;;;EASG,OAAO,OAAO,QACd;AACG,WAAO,OAAO,QAAQ,yBAAyB,MAAM;EAC3D;;;;;;;;;;EAWG,OAAO,UAAU,QACjB;AACG,WAAO,OAAO,KAAI,EAAG,UAAU,KAAK,EAAE,QAAQ,iBAAiB,EAAE;EACvE;AACA;",
  "names": []
}
